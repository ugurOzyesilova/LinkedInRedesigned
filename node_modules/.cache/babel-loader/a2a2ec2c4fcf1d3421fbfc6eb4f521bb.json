{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\UT\\\\vivid\\\\src\\\\statemanagement\\\\Context.js\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useReducer, useState, useContext } from \"react\";\nimport Reducer from \"./Reducer\";\nimport firebase, { auth, provider } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const initialState = {\n  posts: [],\n  user: null\n};\nexport const Context = /*#__PURE__*/createContext(initialState); //GlobalContext\n\nexport const ContextProvider = props => {\n  _s();\n\n  //Global Provider\n  const [state, dispatch] = useReducer(Reducer, initialState);\n\n  const addtoBasket = product => {\n    dispatch({\n      type: \"add__to__basket\",\n      payload: product\n    });\n  };\n\n  const removefromBasket = id => {\n    dispatch({\n      type: \"remove__from__basket\",\n      payload: id\n    });\n  };\n\n  const signIn = () => {\n    auth.signInWithPopup(provider).then(result => {\n      dispatch({\n        type: \"set__user\",\n        payload: result.user\n      }); //console.log(result.user)\n    }).catch(error => alert(error.message));\n  };\n\n  const [value, setValue] = useState(\"xxxXXxx\");\n\n  const handleChange = e => {\n    setValue(e.toLowerCase());\n  };\n\n  const [samsungProducts, setSamsungProducts] = useState([]);\n  const [appleProducts, setAppleProducts] = useState([]);\n  const [huaweiProducts, setHuaweiProducts] = useState([]);\n  if (huaweiProducts.length === 0 || samsungProducts.length === 0 || appleProducts.length === 0) firebase.firestore().collection(\"products\").get().then(snapshot => {\n    setSamsungProducts(snapshot.docs.map(doc => doc.data()).filter(p => p.category === \"samsung\"));\n    setAppleProducts(snapshot.docs.map(doc => doc.data()).filter(p => p.category === \"apple\"));\n    setHuaweiProducts(snapshot.docs.map(doc => doc.data()).filter(p => p.category === \"huawei\"));\n  });\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      addtoBasket: addtoBasket,\n      removefromBasket: removefromBasket,\n      samsungProducts: samsungProducts,\n      appleProducts: appleProducts,\n      huaweiProducts: huaweiProducts,\n      signIn: signIn,\n      user: state.user,\n      handleChange: handleChange,\n      value: value\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ContextProvider, \"Q/CeKvTvNGcQbKJpxkq0ptAEw1c=\");\n\n_c = ContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/UT/vivid/src/statemanagement/Context.js"],"names":["React","createContext","useReducer","useState","useContext","Reducer","firebase","auth","provider","initialState","posts","user","Context","ContextProvider","props","state","dispatch","addtoBasket","product","type","payload","removefromBasket","id","signIn","signInWithPopup","then","result","catch","error","alert","message","value","setValue","handleChange","e","toLowerCase","samsungProducts","setSamsungProducts","appleProducts","setAppleProducts","huaweiProducts","setHuaweiProducts","length","firestore","collection","get","snapshot","docs","map","doc","data","filter","p","category","children"],"mappings":"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","sourcesContent":["import React, { createContext, useReducer, useState, useContext } from \"react\";\r\nimport Reducer from \"./Reducer\";\r\nimport firebase, { auth, provider } from \"../firebase\";\r\n\r\n\r\nexport const initialState = {\r\n  posts: [],\r\n  user: null,\r\n};\r\n\r\nexport const Context = createContext(initialState) //GlobalContext\r\n\r\nexport const ContextProvider = (props) => {\r\n  //Global Provider\r\n  const [state, dispatch] = useReducer(Reducer, initialState);\r\n  const addtoBasket = (product) => {\r\n    dispatch({ type: \"add__to__basket\", payload: product });\r\n  };\r\n  const removefromBasket = (id) => {\r\n    dispatch({ type: \"remove__from__basket\", payload: id });\r\n  };\r\n  const signIn = () => {\r\n    auth\r\n      .signInWithPopup(provider)\r\n      .then((result) => {\r\n        dispatch({\r\n          type: \"set__user\",\r\n          payload: result.user,\r\n        });\r\n        //console.log(result.user)\r\n      })\r\n      .catch((error) => alert(error.message));\r\n  };\r\n  const [value, setValue] = useState(\"xxxXXxx\");\r\n\r\n  const handleChange = (e) => {\r\n    setValue(e.toLowerCase());\r\n  };\r\n\r\n  const [samsungProducts, setSamsungProducts] = useState([]);\r\n  const [appleProducts, setAppleProducts] = useState([]);\r\n  const [huaweiProducts, setHuaweiProducts] = useState([]);\r\n  if (\r\n    huaweiProducts.length === 0 ||\r\n    samsungProducts.length === 0 ||\r\n    appleProducts.length === 0\r\n  )\r\n    firebase\r\n      .firestore()\r\n      .collection(\"products\")\r\n      .get()\r\n      .then((snapshot) => {\r\n        setSamsungProducts(\r\n          snapshot.docs\r\n            .map((doc) => doc.data())\r\n            .filter((p) => p.category === \"samsung\")\r\n        );\r\n        setAppleProducts(\r\n          snapshot.docs\r\n            .map((doc) => doc.data())\r\n            .filter((p) => p.category === \"apple\")\r\n        );\r\n        setHuaweiProducts(\r\n          snapshot.docs\r\n            .map((doc) => doc.data())\r\n            .filter((p) => p.category === \"huawei\")\r\n        );\r\n      });\r\n\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        \r\n        addtoBasket: addtoBasket,\r\n        removefromBasket: removefromBasket,\r\n        samsungProducts: samsungProducts,\r\n        appleProducts: appleProducts,\r\n        huaweiProducts: huaweiProducts,\r\n        signIn: signIn,\r\n        user: state.user,\r\n        handleChange: handleChange,\r\n        value: value,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </Context.Provider>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}